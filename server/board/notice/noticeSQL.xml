<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeSQL">
    <select id="selectNoticeList">
        SELECT A.NOTICE_NO AS noticeNo
             , A.NOTICE_TITLE AS noticeTitle
             , DATE_FORMAT(A.NOTICE_DATE, '%Y-%m-%d') AS noticeDate
          FROM NOTICE A
         ORDER BY A.NOTICE_NO DESC
    </select>

    <select id="selectNoticeDetail">
        SELECT A.NOTICE_NO AS noticeNo
        , A.NOTICE_TITLE AS noticeTitle
        , A.NOTICE_CONTENT AS noticeContent
        , DATE_FORMAT(A.NOTICE_DATE, '%Y-%m-%d') AS noticeDate
        FROM NOTICE A
       WHERE A.NOTICE_NO = ${noticeNo}
    </select>

    <insert id="insertNotice">
        INSERT INTO NOTICE
        (
          NOTICE_TITLE
        , NOTICE_CONTENT
        , NOTICE_DATE
        ) VALUES (
          #{noticeTitle}
        , #{noticeContent}
        , CURRENT_TIMESTAMP
        )
    </insert>

    <update id="updateNotice">
        UPDATE NOTICE
        SET NOTICE_TITLE = #{noticeTitle}
          , NOTICE_CONTENT = #{noticeContent}
          , NOTICE_DATE = CURRENT_TIMESTAMP
        WHERE NOTICE_NO = ${noticeNo}
    </update>
</mapper>
